====================================
STEP 0 — Task Understanding
====================================
I will perform a comprehensive recursive scan of the `C:\src\walletmanager\lib` directory to index every file and folder.
For each file found, I will read its content to understand its specific purpose within the application architecture.
Finally, I will generate a detailed report containing a complete directory tree and an exhaustive list of file descriptions,
explaining the role of every component, widget, service, and utility in the codebase.

====================================
STEP 1 — COMPLETE Directory Structure (Tree View)
====================================
C:\src\walletmanager\lib
├── app.dart
├── main.dart
├── core
│   ├── constants
│   │   ├── app_constants.dart
│   │   ├── firebase_constants.dart
│   │   └── route_constants.dart
│   ├── errors
│   │   ├── app_exceptions.dart
│   │   └── failures.dart
│   ├── theme
│   │   ├── app_colors.dart
│   │   ├── app_text_styles.dart
│   │   └── app_theme.dart
│   └── utils
│       ├── cache_manager.dart
│       ├── date_helper.dart
│       ├── debouncer.dart
│       ├── dialog_utils.dart
│       ├── fee_calculator.dart
│       ├── license_key_generator.dart
│       ├── number_formatter.dart
│       ├── password_hasher.dart
│       ├── permission_helper.dart
│       ├── snackbar_utils.dart
│       ├── toast_utils.dart
│       └── validators.dart
├── data
│   ├── models
│   │   ├── daily_stats_model.dart
│   │   ├── debt_model.dart
│   │   ├── license_key_model.dart
│   │   ├── stats_summary_model.dart
│   │   ├── store_model.dart
│   │   ├── transaction_model.dart
│   │   ├── user_model.dart
│   │   └── wallet_model.dart
│   ├── repositories
│   │   ├── auth_repository.dart
│   │   ├── debt_repository.dart
│   │   ├── employee_repository.dart
│   │   ├── license_key_repository.dart
│   │   ├── stats_repository.dart
│   │   ├── store_repository.dart
│   │   ├── transaction_repository.dart
│   │   ├── user_repository.dart
│   │   └── wallet_repository.dart
│   └── services
│       ├── firebase_service.dart
│       ├── google_sign_in_service.dart
│       └── local_storage_service.dart
├── l10n
│   └── arb
│       ├── app_ar.arb
│       ├── app_en.arb
│       ├── app_localizations.dart
│       ├── app_localizations_ar.dart
│       └── app_localizations_en.dart
├── presentation
│   ├── screens
│   │   ├── auth
│   │   │   ├── employee_login_screen.dart
│   │   │   └── store_registration_screen.dart
│   │   ├── debts
│   │   │   ├── add_debt_screen.dart
│   │   │   └── debts_list_screen.dart
│   │   ├── employees
│   │   │   ├── add_employee_screen.dart
│   │   │   └── manage_employees_screen.dart
│   │   ├── home
│   │   │   ├── employee_dashboard_screen.dart
│   │   │   └── owner_dashboard_screen.dart
│   │   ├── settings
│   │   │   └── settings_screen.dart
│   │   ├── statistics
│   │   │   └── general_statistics_screen.dart
│   │   ├── transactions
│   │   │   ├── create_transaction_screen.dart
│   │   │   ├── today_transactions_screen.dart
│   │   │   └── transaction_details_screen.dart
│   │   └── wallets
│   │       ├── add_balance_screen.dart
│   │       ├── wallet_details_screen.dart
│   │       ├── wallet_form_screen.dart
│   │       └── wallets_list_screen.dart
│   └── widgets
│       ├── common
│       │   ├── add_close_animated_icon.dart
│       │   ├── custom_button.dart
│       │   ├── custom_dropdown.dart
│       │   ├── custom_text_field.dart
│       │   ├── empty_state_widget.dart
│       │   ├── error_widget.dart
│       │   ├── loading_indicator.dart
│       │   ├── skeleton_card.dart
│       │   └── skeleton_list.dart
│       ├── dashboard
│       │   ├── alert_card.dart
│       │   ├── quick_action_card.dart
│       │   ├── section_header.dart
│       │   └── stats_card.dart
│       ├── debt
│       │   ├── debt_card.dart
│       │   ├── debt_summary_card.dart
│       │   └── partial_payment_bottom_sheet.dart
│       ├── employee
│       │   ├── employee_card.dart
│       ├── transaction
│       │   ├── transaction_card.dart
│       │   └── transaction_summary_card.dart
│       └── wallet
│           ├── wallet_card.dart
│           ├── wallet_limit_bar.dart
│           └── wallet_stats_card.dart
├── providers
│   ├── app_events.dart
│   ├── auth_provider.dart
│   ├── debt_provider.dart
│   ├── employee_provider.dart
│   ├── localization_provider.dart
│   ├── statistics_provider.dart
│   ├── theme_provider.dart
│   ├── transaction_provider.dart
│   └── wallet_provider.dart
└── routes
    ├── app_router.dart
    └── navigation_service.dart

====================================
STEP 2 — EXHAUSTIVE File Descriptions
====================================

C:\src\walletmanager\lib\app.dart
Configures the root widget `MyApp`, sets up `MultiProvider` for state management, 
initializes localization (Arabic/English), applies the global theme, and handles 
initial routing logic based on authentication status.

C:\src\walletmanager\lib\main.dart
The entry point of the application. Initializes the Flutter binding, Firebase, 
and local storage services before running `MyApp`. Includes basic error handling 
for initialization failures.

C:\src\walletmanager\lib\core\constants\app_constants.dart
Defines global application constants such as app name, version, and critical 
business rules including transaction limits for different wallet types (New, Old, Registered Store, InstaPay).

C:\src\walletmanager\lib\core\constants\firebase_constants.dart
Stores string constants for Firestore collection names (stores, users, wallets, etc.) 
and document field keys to ensure consistency and prevent typos in database queries.

C:\src\walletmanager\lib\core\constants\route_constants.dart
Lists all named routes used for navigation within the application, such as 
`/owner-dashboard`, `/create-transaction`, and `/employee-login`.

C:\src\walletmanager\lib\core\errors\app_exceptions.dart
Defines a hierarchy of custom exception classes (e.g., `AuthException`, `ValidationException`) 
to handle application-specific errors with meaningful messages and codes.

C:\src\walletmanager\lib\core\errors\failures.dart
Provides a set of `Failure` classes (e.g., `NetworkFailure`, `ServerFailure`) 
that map exceptions to user-friendly error states for the UI layer.

C:\src\walletmanager\lib\core\theme\app_colors.dart
Centralizes the application's color palette, defining primary, secondary, status 
colors (success, error), and supporting both light and dark mode variations.

C:\src\walletmanager\lib\core\theme\app_text_styles.dart
Defines standard text styles (Headings, Body, Labels) using the 'Cairo' font family 
to ensure consistent typography throughout the application.

C:\src\walletmanager\lib\core\theme\app_theme.dart
Configures the global `ThemeData` for light and dark modes, including styles for 
AppBars, Cards, Buttons, Inputs, and Text, utilizing `AppColors` and `AppTextStyles`.

C:\src\walletmanager\lib\core\utils\cache_manager.dart
Implements a simple in-memory caching mechanism to store and retrieve data 
(like fetched lists) with expiration times to reduce redundant network calls.

C:\src\walletmanager\lib\core\utils\date_helper.dart
Provides utility functions for formatting dates and timestamps, and calculating 
date ranges (start/end of day, week, month) and relative time strings in Arabic.

C:\src\walletmanager\lib\core\utils\debouncer.dart
A utility class to debounce actions, useful for delaying search queries or 
preventing rapid repeated button clicks.

C:\src\walletmanager\lib\core\utils\dialog_utils.dart
Offers static methods to show standardized, animated dialogs for confirmation, 
success, warning, and information, ensuring a consistent popup experience.

C:\src\walletmanager\lib\core\utils\fee_calculator.dart
Contains logic to calculate transaction fees based on the source wallet type 
(Vodafone, Etisalat, etc.) and the destination provider, including percentage and fixed fee rules.

C:\src\walletmanager\lib\core\utils\license_key_generator.dart
Provides functionality to generate random, formatted license keys for stores 
and save batches of them to Firestore.

C:\src\walletmanager\lib\core\utils\number_formatter.dart
Utilities for formatting numbers as currency (with commas), percentages, and 
formatting Egyptian phone numbers for better readability.

C:\src\walletmanager\lib\core\utils\password_hasher.dart
Implements SHA-256 hashing for securing sensitive data like store passwords 
and employee PINs before storage or verification.

C:\src\walletmanager\lib\core\utils\permission_helper.dart
Checks user permissions (e.g., canCreateDebt, canAccessScreen) against the 
current user's role and assigned permissions to control access to features.

C:\src\walletmanager\lib\core\utils\snackbar_utils.dart
Provides static methods to display customized SnackBars for success, error, 
info, and warning messages at the bottom of the screen.

C:\src\walletmanager\lib\core\utils\toast_utils.dart
Uses `bot_toast` to display non-intrusive toast notifications for feedback 
(success, error, info) that float above the UI.

C:\src\walletmanager\lib\core\utils\validators.dart
Contains static validation methods for form fields, including rules for 
phone numbers, passwords, license keys, amounts, and required fields.

C:\src\walletmanager\lib\data\models\daily_stats_model.dart
Model representing daily aggregated statistics (transaction count, total commission, 
total amount) for charting and reporting.

C:\src\walletmanager\lib\data\models\debt_model.dart
Data model for debts, tracking customer info, amount due, total amount, 
payment status (open/paid), and type (transaction vs store sale).

C:\src\walletmanager\lib\data\models\license_key_model.dart
Model representing a license key document, including its usage status, 
expiry duration, and the store that claimed it.

C:\src\walletmanager\lib\data\models\stats_summary_model.dart
Aggregates high-level store statistics (total wallets, balance, transactions, 
debts) to be displayed on the dashboard for performance efficiency.

C:\src\walletmanager\lib\data\models\store_model.dart
The core model for a Store, containing profile info, settings, active license details, 
and embedded statistics.

C:\src\walletmanager\lib\data\models\transaction_model.dart
Comprehensive model for financial transactions, capturing sender/receiver details, 
amounts, fees, commissions, and linking to specific wallets and debts.

C:\src\walletmanager\lib\data\models\user_model.dart
Represents a user in the system, distinguishing between 'owner' and 'employee' 
roles, and holding specific permissions and PINs for employees.

C:\src\walletmanager\lib\data\models\wallet_model.dart
Model for a financial wallet, tracking its balance, type (e.g., Vodafone Cash), 
status, and enforcing daily/monthly transaction limits.

C:\src\walletmanager\lib\data\repositories\auth_repository.dart
Handles interaction with Firebase Auth and Google Sign-In, abstracting 
login, logout, and current user retrieval operations.

C:\src\walletmanager\lib\data\repositories\debt_repository.dart
Manages Firestore operations for debts, including creation, pagination, 
partial payments, and updating aggregate statistics transactionally.

C:\src\walletmanager\lib\data\repositories\employee_repository.dart
Handles CRUD operations for employees within a store, including PIN verification, 
limit checking (max employees), and activation status.

C:\src\walletmanager\lib\data\repositories\license_key_repository.dart
Verifies the validity of license keys against the `license_keys` collection and 
handles marking keys as used during store registration.

C:\src\walletmanager\lib\data\repositories\stats_repository.dart
Dedicated repository for maintaining and fetching the `stats/summary` document 
and daily stats for a store, ensuring atomic updates.

C:\src\walletmanager\lib\data\repositories\store_repository.dart
Manages store documents, including creation, updating settings, validating 
license status, and verifying store passwords.

C:\src\walletmanager\lib\data\repositories\transaction_repository.dart
Handles transaction logic: creating records, atomically updating wallet balances 
and limits, enforcing caps, and managing transaction history.

C:\src\walletmanager\lib\data\repositories\user_repository.dart
Manages user documents in Firestore, handling role assignments, permissions updates, 
and soft/hard deletion of user accounts.

C:\src\walletmanager\lib\data\repositories\wallet_repository.dart
Performs CRUD operations for wallets, handles updating balances, and implements 
logic to reset daily/monthly limits.

C:\src\walletmanager\lib\data\services\firebase_service.dart
A singleton service that initializes the Firebase application and provides 
access to `FirebaseAuth` and `FirebaseFirestore` instances.

C:\src\walletmanager\lib\data\services\google_sign_in_service.dart
Wrapper for the Google Sign-In flow, handling the authentication process and 
returning Firebase credentials.

C:\src\walletmanager\lib\data\services\local_storage_service.dart
Manages `SharedPreferences` to persist user session data (IDs, roles) and 
app settings like theme preference across app restarts.

C:\src\walletmanager\lib\l10n\arb\app_ar.arb
Contains the Arabic translations for all application strings.

C:\src\walletmanager\lib\l10n\arb\app_en.arb
Contains the English translations for all application strings.

C:\src\walletmanager\lib\l10n\arb\app_localizations.dart
The abstract base class for generated localization delegates, providing access 
to localized resources via `AppLocalizations.of(context)`.

C:\src\walletmanager\lib\l10n\arb\app_localizations_ar.dart
The generated Dart code implementing the Arabic localization logic.

C:\src\walletmanager\lib\l10n\arb\app_localizations_en.dart
The generated Dart code implementing the English localization logic.

C:\src\walletmanager\lib\presentation\screens\auth\employee_login_screen.dart
UI for employee login: verifies Store Password, then Employee PIN, and finally 
checks the Google Account session to authenticate.

C:\src\walletmanager\lib\presentation\screens\auth\store_registration_screen.dart
UI for registering a new store. Collects store details, validates a license key, 
and links the store to a Google account.

C:\src\walletmanager\lib\presentation\screens\debts\add_debt_screen.dart
A form screen to manually create a new debt record (either transaction-based or store sale) 
for a specific customer.

C:\src\walletmanager\lib\presentation\screens\debts\debts_list_screen.dart
Displays a paginated list of debts with filtering options (Open/Paid). Allows marking 
debts as paid or adding partial payments.

C:\src\walletmanager\lib\presentation\screens\employees\add_employee_screen.dart
A form to register a new employee with a name, phone number, and secure PIN, 
enforcing the store's maximum employee limit.

C:\src\walletmanager\lib\presentation\screens\employees\manage_employees_screen.dart
Lists all employees for the store owner, allowing management actions like 
deactivating access or resetting permissions.

C:\src\walletmanager\lib\presentation\screens\home\employee_dashboard_screen.dart
Restricted dashboard for employees, showing recent transactions and quick actions 
relevant to their permissions.

C:\src\walletmanager\lib\presentation\screens\home\owner_dashboard_screen.dart
The main hub for store owners, displaying high-level statistics, alerts (limits/debts), 
quick actions, and navigation to all features.

C:\src\walletmanager\lib\presentation\screens\settings\settings_screen.dart
Settings page allowing users to view account info, switch theme/language, view license 
status, and contact support.

C:\src\walletmanager\lib\presentation\screens\statistics\general_statistics_screen.dart
Shows detailed statistical reports and charts, with options to filter data by 
custom date ranges.

C:\src\walletmanager\lib\presentation\screens\transactions\create_transaction_screen.dart
The core screen for performing financial operations (send/receive). Selects a wallet, 
calculates fees, and validates limits before execution.

C:\src\walletmanager\lib\presentation\screens\transactions\today_transactions_screen.dart
Lists transactions made in the current day, providing a quick daily overview 
and summary for reconciliation.

C:\src\walletmanager\lib\presentation\screens\transactions\transaction_details_screen.dart
Displays full metadata for a specific transaction, including timestamps, fees, 
customer info, and associated notes.

C:\src\walletmanager\lib\presentation\screens\wallets\add_balance_screen.dart
A simplified form to deposit funds into a selected wallet, increasing its balance 
without recording a send/receive transaction.

C:\src\walletmanager\lib\presentation\screens\wallets\wallet_details_screen.dart
Shows detailed info for a single wallet, including current balance, progress bars 
for daily/monthly limits, and specific stats.

C:\src\walletmanager\lib\presentation\screens\wallets\wallet_form_screen.dart
Form to create a new wallet or edit an existing one, defining its type (Vodafone, InstaPay, etc.) 
and initial status.

C:\src\walletmanager\lib\presentation\screens\wallets\wallets_list_screen.dart
Displays all wallets in the store with their balances. Supports searching, filtering, 
and navigating to details or edit screens.

C:\src\walletmanager\lib\presentation\widgets\common\add_close_animated_icon.dart
A custom animated icon widget that transitions between an 'Add' (plus) state and 
a 'Close' (X) state.

C:\src\walletmanager\lib\presentation\widgets\common\custom_button.dart
A reusable button component with standard styling, support for loading states, 
and optional icons.

C:\src\walletmanager\lib\presentation\widgets\common\custom_dropdown.dart
A styled dropdown form field wrapper ensuring consistent appearance for selecting 
options like wallet types.

C:\src\walletmanager\lib\presentation\widgets\common\custom_text_field.dart
A standard text input field with built-in styling for borders, icons, labels, 
and validation error display.

C:\src\walletmanager\lib\presentation\widgets\common\empty_state_widget.dart
A widget displayed when lists are empty, showing an icon, a message, and an optional 
action button to encourage user interaction.

C:\src\walletmanager\lib\presentation\widgets\common\error_widget.dart
A standardized error display widget showing a message and a retry button, used 
when data fetching fails.

C:\src\walletmanager\lib\presentation\widgets\common\loading_indicator.dart
A simple centered circular progress indicator with an optional loading message.

C:\src\walletmanager\lib\presentation\widgets\common\skeleton_card.dart
A placeholder widget mimicking a card layout, used for shimmer loading effects 
before data arrives.

C:\src\walletmanager\lib\presentation\widgets\common\skeleton_list.dart
Generates a list of `SkeletonCard` widgets to create a realistic loading skeleton 
for list views.

C:\src\walletmanager\lib\presentation\widgets\dashboard\alert_card.dart
Displays important warnings (e.g., wallet limit reached) on the dashboard with 
distinct visual styling.

C:\src\walletmanager\lib\presentation\widgets\dashboard\quick_action_card.dart
A clickable card widget representing a shortcut to a frequent action (like 'New Transaction') 
on the dashboard.

C:\src\walletmanager\lib\presentation\widgets\dashboard\section_header.dart
A reusable header for dashboard sections, containing a title and an optional 
'View All' action button.

C:\src\walletmanager\lib\presentation\widgets\dashboard\stats_card.dart
A card displaying a key statistic (e.g., Total Balance) with an icon and color coding, 
used in the dashboard grid.

C:\src\walletmanager\lib\presentation\widgets\debt\debt_card.dart
Renders a summary of a single debt item, including customer name, amount due, 
and status indicator.

C:\src\walletmanager\lib\presentation\widgets\debt\debt_summary_card.dart
Shows aggregated debt statistics (total open, total paid) at the top of the debts list.

C:\src\walletmanager\lib\presentation\widgets\debt\partial_payment_bottom_sheet.dart
A modal sheet allowing users to input an amount to pay off part or all of an 
existing debt.

C:\src\walletmanager\lib\presentation\widgets\employee\employee_card.dart
Displays employee details (name, phone, active status) in a list item format 
with management options.

C:\src\walletmanager\lib\presentation\widgets\transaction\transaction_card.dart
Renders a transaction item, showing amount, type (send/receive), time, and 
commission in a concise row.

C:\src\walletmanager\lib\presentation\widgets\transaction\transaction_summary_card.dart
Displays a summary of displayed transactions (total count, total amount sent/received) 
at the top of transaction lists.

C:\src\walletmanager\lib\presentation\widgets\wallet\wallet_card.dart
A card widget representing a wallet, showing its type, phone number, balance, 
and limit status.

C:\src\walletmanager\lib\presentation\widgets\wallet\wallet_limit_bar.dart
A linear progress indicator visualizing how much of a wallet's daily or monthly 
limit has been consumed.

C:\src\walletmanager\lib\presentation\widgets\wallet\wallet_stats_card.dart
A detailed card showing specific statistics for a wallet, such as total transactions 
performed and commission generated.

C:\src\walletmanager\lib\providers\app_events.dart
A lightweight event bus using streams to broadcast change events (e.g., 'wallet updated') 
triggering data refreshes across providers.

C:\src\walletmanager\lib\providers\auth_provider.dart
Manages the authentication state, handles Google Sign-In, session persistence, 
and loading user/store profiles.

C:\src\walletmanager\lib\providers\debt_provider.dart
Manages the state for the debt feature, including fetching lists, creating new debts, 
and handling payment updates.

C:\src\walletmanager\lib\providers\employee_provider.dart
Handles state for employee management, including fetching the list, adding new 
employees, and verifying PINs.

C:\src\walletmanager\lib\providers\localization_provider.dart
Manages the current application locale (Arabic/English) and persists the user's 
preference.

C:\src\walletmanager\lib\providers\statistics_provider.dart
Fetches and holds statistical data for the dashboard and reports, supporting 
both live summaries and date-filtered queries.

C:\src\walletmanager\lib\providers\theme_provider.dart
Manages the active theme mode (Light/Dark/System) and persists the selection 
to local storage.

C:\src\walletmanager\lib\providers\transaction_provider.dart
Manages transaction state, including fetching history, creating new transactions, 
and calculating local summaries.

C:\src\walletmanager\lib\providers\wallet_provider.dart
Handles the state of wallets, including fetching, creating, updating balances, 
and managing cache invalidation.

C:\src\walletmanager\lib\routes\app_router.dart
Defines the route generation logic, mapping route names to screen widgets and 
injecting necessary providers via `ChangeNotifierProxyProvider`.

C:\src\walletmanager\lib\routes\navigation_service.dart
Holds a global `NavigatorKey` to allow navigation from non-UI contexts (like 
utility classes) if needed.
